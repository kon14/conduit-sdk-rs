<div align="center">
    <br>
        <a href="https://getconduit.dev" target="_blank"><img src="https://getconduit.dev/conduitLogo.svg" height="80px" alt="logo"/></a>
        <br/>
        <h3>The only Backend you'll ever need.</h3>
</div>

<div align="center">
    <p>🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧</p>
    <h3>⚡ Conduit SDK for Rust 🦀</h3>
    <p>🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧 🚧</p>
</div>

Conduit is a self-hosted backend, that aims to cut down development times
by providing ready-made modules that offer common functionality out of the box, and allowing
maximum flexibility to add custom functionality.

While Conduit's official microservices are built in TypeScript, module intercommunication is accomplished through gRPC,
allowing for third party clients and servers to be written in any programming language offering a gRPC implementation.

This project intends to implement a Conduit SDK for Rust.<br />
At the moment, it's just a **work-in-progress** with **<ins>no official support</ins>**!

## Prerequisites 🤔

The following section assumes your environment contains:

- an installation of the [Rust development toolchain](https://www.rust-lang.org/tools/install)
- [protoc](https://github.com/protocolbuffers/protobuf/releases)

Additionally, you should have access to a local/remote instance of Conduit.<br />
If you already have Conduit's CLI installed on your system, you may bring up a local dev environment via:

``` bash
# Option A: Basic Deployment
conduit deploy setup

# Option B: Parameterized Deployment
conduit deploy setup --config
```

For additional information on Conduit environment bootstrapping options, check out the [installation section](https://getconduit.dev/docs/installation
) of the official project docs.

## Examples 🧩

The following example demonstrates distributed service discovery synchronization.<br />

``` bash
CONDUIT_SERVER_URL="0.0.0.0:55152" cargo run --example watch_modules
```

The example's code establishes a connection to Conduit and calls `watch_modules()`, retrieving an initialized `Arc<RwLock<ServiceDiscoveryState>>`.

Every 500ms, the local state gets logged, while a background task takes care of keeping it in sync with the remote service discovery state.

_Output_
```
Waiting for Conduit...
Conduit connection established!

Service Discovery State @ 2024-09-02 22:37:28.302090333 UTC
RwLock {
    data: ServiceDiscoveryState {
        module_states: {
            Chat: { grpc_address: grpc://conduit-chat:55163, is_serving: true },
            Database: { grpc_address: grpc://conduit-database:55160, is_serving: true },
            Unknown("pushNotifications"): { grpc_address: grpc://conduit-push-notifications:55166, is_serving: false },
            Email: { grpc_address: grpc://conduit-email:55164, is_serving: false },
            Forms: { grpc_address: grpc://conduit-forms:55165, is_serving: false },
            Router: { grpc_address: grpc://conduit-router:55161, is_serving: true },
            Authentication: { grpc_address: grpc://conduit-authentication:55162, is_serving: true },
            Storage: { grpc_address: grpc://conduit-storage:55168, is_serving: false },
        },
        last_updated: 2024-09-02T22:37:24.094379176Z
    }
    ,
    poisoned: false,
    ..
}

Service Discovery State @ 2024-09-02 22:37:28.803936830 UTC
RwLock {
    data: ServiceDiscoveryState {
        module_states: {
            Email: { grpc_address: grpc://conduit-email:55164, is_serving: false },
            Authentication: { grpc_address: grpc://conduit-authentication:55162, is_serving: true },
            Chat: { grpc_address: grpc://conduit-chat:55163, is_serving: true },
            Unknown("pushNotifications"): { grpc_address: grpc://conduit-push-notifications:55166, is_serving: false },
            Database: { grpc_address: grpc://conduit-database:55160, is_serving: true },
            Forms: { grpc_address: grpc://conduit-forms:55165, is_serving: false },
            Router: { grpc_address: grpc://conduit-router:55161, is_serving: true },
            Storage: { grpc_address: grpc://conduit-storage:55168, is_serving: false },
        },
        last_updated: 2024-09-02T22:37:28.302313177Z
    }
    ,
    poisoned: false,
    ..
}
```

## Roadmap 🏁

- gRPC Client Wrappers for Official Conduit Services
- Creating Custom Module Services
- Registering Admin/Client Routes
- gRPC Health Checking Protocol
- Bus (Redis)
- Metrics (Prometheus)
- Logs (Loki)

---

Check out our docs here: [Documentation](https://getconduit.dev/docs/overview/intro)\
Wanna see what comes next: [Roadmap](https://sharing.clickup.com/1554325/b/h/1fdwn-7561/8b09d2e9aedec0b)\
Help us make Conduit great: [Contribute](https://github.com/ConduitPlatform/Conduit/blob/main/.github/CONTRIBUTING.md)\
Learn more: [Website](https://getconduit.dev)
